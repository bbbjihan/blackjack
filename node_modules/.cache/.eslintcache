[{"D:\\Projects\\blackjack\\src\\index.js":"1","D:\\Projects\\blackjack\\src\\App.js":"2","D:\\Projects\\blackjack\\src\\components\\Choose\\index.js":"3","D:\\Projects\\blackjack\\src\\components\\Table\\index.js":"4","D:\\Projects\\blackjack\\src\\components\\Inform\\index.js":"5","D:\\Projects\\blackjack\\src\\components\\Status\\index.js":"6","D:\\Projects\\blackjack\\src\\Atom.js":"7","D:\\Projects\\blackjack\\src\\BlackJack.js":"8"},{"size":327,"mtime":1679922471453,"results":"9","hashOfConfig":"10"},{"size":421,"mtime":1680024169510,"results":"11","hashOfConfig":"10"},{"size":10534,"mtime":1680019807536,"results":"12","hashOfConfig":"10"},{"size":3512,"mtime":1679937338461,"results":"13","hashOfConfig":"10"},{"size":713,"mtime":1679923773730,"results":"14","hashOfConfig":"10"},{"size":826,"mtime":1679923799840,"results":"15","hashOfConfig":"10"},{"size":806,"mtime":1680015922063,"results":"16","hashOfConfig":"10"},{"size":372,"mtime":1680023567514,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},"1jcalf5",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"21"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"D:\\Projects\\blackjack\\src\\index.js",[],[],[],"D:\\Projects\\blackjack\\src\\App.js",[],[],"D:\\Projects\\blackjack\\src\\components\\Choose\\index.js",["45"],[],"import { useEffect, useState } from 'react';\r\nimport { useRecoilState, useSetRecoilState } from 'recoil';\r\nimport '../../Atom';\r\nimport { betState, DeckState, DhandState, DscoreState, informState, moneyState, PhandState, phaseState, PscoreState } from '../../Atom';\r\nimport './Choose.css';\r\n\r\nconst Choose = () => {\r\n    const setInform = useSetRecoilState(informState);\r\n    const [betting, setBetting] = useState(10);\r\n    const [bet, setBet] = useRecoilState(betState);\r\n    const [money, setMoney] = useRecoilState(moneyState);\r\n    const [phase, setPhase] = useRecoilState(phaseState);\r\n    const [Deck, setDeck] = useRecoilState(DeckState);\r\n    const [Phand, setPhand] = useRecoilState(PhandState);\r\n    const [Dhand, setDhand] = useRecoilState(DhandState);\r\n    const [Pscore, setPscore] = useRecoilState(PscoreState);\r\n    const [Dscore, setDscore] = useRecoilState(DscoreState);\r\n\r\n    const wait = (Sec) => new Promise((resolve) => setTimeout(resolve, Sec * 1000));\r\n\r\n    const BET = () => {\r\n        setPhand([]);\r\n        setDhand([]);\r\n        setPscore(0);\r\n        setDscore(0);\r\n        setBet(betting);\r\n        setMoney(money - betting);\r\n        setBetting(10);\r\n        setPhase(2);\r\n        setController(\"DrawPhase\");\r\n    }\r\n\r\n    const cardShuffle = () => {\r\n        console.log(\"cardShuffle\");\r\n        setPhase(2);\r\n        setInform(\"Shuffling...\");\r\n        let shuffling = [[\"A\",\"spade\"],[2,\"spade\"],[3,\"spade\"],[4,\"spade\"],[5,\"spade\"],[6,\"spade\"],[7,\"spade\"],[8,\"spade\"],[9,\"spade\"],[10,\"spade\"],[\"J\",\"spade\"],[\"Q\",\"spade\"],[\"K\",\"spade\"],[\"A\",\"diamond\"],[2,\"diamond\"],[3,\"diamond\"],[4,\"diamond\"],[5,\"diamond\"],[6,\"diamond\"],[7,\"diamond\"],[8,\"diamond\"],[9,\"diamond\"],[10,\"diamond\"],[\"J\",\"diamond\"],[\"Q\",\"diamond\"],[\"K\",\"diamond\"],[\"A\",\"heart\"],[2,\"heart\"],[3,\"heart\"],[4,\"heart\"],[5,\"heart\"],[6,\"heart\"],[7,\"heart\"],[8,\"heart\"],[9,\"heart\"],[10,\"heart\"],[\"J\",\"heart\"],[\"Q\",\"heart\"],[\"K\",\"heart\"],[\"A\",\"clover\"],[2,\"clover\"],[3,\"clover\"],[4,\"clover\"],[5,\"clover\"],[6,\"clover\"],[7,\"clover\"],[8,\"clover\"],[9,\"clover\"],[10,\"clover\"],[\"J\",\"clover\"],[\"Q\",\"clover\"],[\"K\",\"clover\"]];\r\n        for(let i = shuffling.length - 1; i > 0; i--){\r\n            const j = Math.floor(Math.random() * (i + 1));\r\n            [shuffling[i], shuffling[j]] = [shuffling[j], shuffling[i]];\r\n        }\r\n        setDeck(shuffling);\r\n        return shuffling;\r\n    }\r\n\r\n    const playerDraw = (deck) => {\r\n        console.log(\"playerDraw\");\r\n        let tmp = [...deck];\r\n        let draw = tmp.shift();\r\n        console.log(draw);\r\n        setPhand((prev)=>[...prev,draw]);\r\n        setDeck(tmp);\r\n        setInform(\"PLAYER, \" + draw[0] + \" \" + draw[1]);\r\n        return tmp;\r\n    }\r\n\r\n    const dealerDraw = (deck) => {\r\n        console.log(\"dealerDraw\");\r\n        let tmp = [...deck];\r\n        let draw = tmp.shift();\r\n        console.log(draw);\r\n        setDhand((prev)=>[...prev,draw]);\r\n        setDeck(tmp);\r\n        setInform(\"DEALER, \" + draw[0] + \" \" + draw[1]);\r\n        return tmp;\r\n    }\r\n\r\n    const DrawPhase = async() => {\r\n        console.log(\"DrawPhase\");\r\n        let deck = [...Deck];\r\n        if(!deck.length){\r\n            deck = cardShuffle();\r\n            await wait(1);\r\n        }\r\n        deck = playerDraw(deck);\r\n        await wait(1);\r\n        if(!deck.length){\r\n            deck = cardShuffle();\r\n            await wait(1);\r\n        }\r\n        deck = dealerDraw(deck);\r\n        await wait(1);\r\n        if(!deck.length){\r\n            deck = cardShuffle();\r\n            await wait(1);\r\n        }\r\n        deck = playerDraw(deck);\r\n        await wait(1);\r\n        setController(\"ActionPhase\");\r\n    }\r\n\r\n    const ActionPhase = () => {\r\n        console.log(\"ActionPhase\");\r\n        setPhase(11);\r\n        if(Pscore === 21){\r\n            setController(\"DealerOpen\");\r\n        }else if(Pscore > 21){\r\n            setController(\"PlayerBust\");\r\n        }else{\r\n            setInform(\"액션을 선택하세요.\");\r\n            setPhase(1);\r\n        }\r\n    }\r\n\r\n    const HIT = async() => {\r\n        console.log(\"HIT\");\r\n        setPhase(11);\r\n        setInform(\"HIT, playerDraw\");\r\n        await wait(1);\r\n        let deck = [...Deck];\r\n        if(!deck.length){\r\n            deck = cardShuffle();\r\n            await wait(1);\r\n        }\r\n        deck = playerDraw(deck);\r\n        await wait(1);\r\n        setController(\"PlayerCheck\");\r\n    }\r\n\r\n    const playerCheck = () => {\r\n        console.log(\"PlayerCheck\");\r\n        if(Pscore === 21){\r\n            setController(\"DealerOpen\");\r\n        }else if(Pscore > 21){\r\n            setController(\"PlayerBust\");\r\n        }else{\r\n            setInform(\"액션을 선택하세요.\");\r\n            setPhase(1);\r\n            setController(\"\");\r\n        }\r\n    }\r\n\r\n    const STAND = () => {\r\n        console.log(\"STAND\");\r\n        setController(\"DealerOpen\");\r\n    }\r\n\r\n    const DealerOpen = async() => {\r\n        console.log(\"DealerOpen\");\r\n        setPhase(11);\r\n        setInform(\"STAND, DEALER OPEN.\");\r\n        await wait(0.5);\r\n        setInform(\"STAND, DEALER OPEN..\");\r\n        await wait(0.5);\r\n        setInform(\"STAND, DEALER OPEN...\");\r\n        await wait(0.5);\r\n        setPhase(4);\r\n        let deck = [...Deck];\r\n        if(!deck.length){\r\n            deck = cardShuffle();\r\n            await wait(1);\r\n        }\r\n        deck = dealerDraw(deck);\r\n        setController(\"DealerCheck\");\r\n    }\r\n\r\n    const DealerCheck = async() => {\r\n        console.log(\"DealerCheck\");\r\n        if(Dscore < 17){\r\n            console.log(\"<17, Redraw.\");\r\n            setController(\"\");\r\n            await wait(1);\r\n            let deck = [...Deck];\r\n            if(!deck.length){\r\n                deck = cardShuffle();\r\n                await wait(1);\r\n            }\r\n            deck = dealerDraw(deck);\r\n            setController(\"DealerCheck\");\r\n        }else if(Dscore > 21){\r\n            await wait(1);\r\n            setController(\"DealerBust\");\r\n        }else{\r\n            await wait(1);\r\n            setController(\"WhoWin\");\r\n        }\r\n    }\r\n\r\n    const whoWin = () => {\r\n        console.log(\"WhoWin\");\r\n        if(Dscore === 21){\r\n            setController(\"DealerBJ\");\r\n        }else if(Pscore === 21){\r\n            setController(\"PlayerBJ\");\r\n        }else{\r\n            if(Pscore > Dscore){\r\n                setController(\"PlayerWin\");\r\n            }else{\r\n                setController(\"DealerWin\");\r\n            }\r\n        }\r\n    }\r\n\r\n    const playerBust = async() => {\r\n        console.log(\"playerBust\");\r\n        let deck = [...Deck];\r\n        if(!deck.length){\r\n            deck = cardShuffle();\r\n            await wait(1);\r\n        }\r\n        deck = dealerDraw(deck);\r\n        setInform(\"PLAYER BUST.\");\r\n        setPhase(5);\r\n        setBet(0);\r\n    }\r\n\r\n    const dealerBust = () => {\r\n        console.log(\"dealerBust\");\r\n        let earning = bet * 2;\r\n        setInform(\"DEALER BUST. +\" + earning + \" G.\");\r\n        setMoney(money + earning);\r\n        setBet(0);\r\n        setPhase(6);\r\n    }\r\n\r\n    const playerWin = () => {\r\n        console.log(\"playerWin\");\r\n        let earning = bet * 2;\r\n        setInform(\"PLAYER WIN. +\" + earning + \" G.\");\r\n        setMoney(money + earning);\r\n        setBet(0);\r\n        setPhase(7);\r\n    }\r\n\r\n    const dealerWin = () => {\r\n        console.log(\"dealerWin\");\r\n        setInform(\"DEALER WIN.\");\r\n        setBet(0);  \r\n        setPhase(8);\r\n    }\r\n\r\n    const playerBJ = () => {\r\n        console.log(\"palyerBJ\");\r\n        let earning = bet * 2.5;\r\n        setInform(\"PLAYER BLACKJACK. +\" + earning + \" G.\");\r\n        setMoney(money + earning);\r\n        setBet(0);  \r\n        setPhase(9);\r\n    }\r\n\r\n    const dealerBJ = () => {\r\n        console.log(\"dealerBJ\");\r\n        setInform(\"DEALER BLACK JACK.\");\r\n        setBet(0);  \r\n        setPhase(10);\r\n    }\r\n\r\n    const [controller, setController] = useState(\"\");\r\n\r\n    useEffect(()=>{\r\n        if(controller === \"DrawPhase\"){\r\n            DrawPhase();\r\n        }else if(controller === \"ActionPhase\"){\r\n            ActionPhase();\r\n        }else if(controller === \"PlayerCheck\"){\r\n            playerCheck();\r\n        }else if(controller === \"DealerOpen\"){\r\n            DealerOpen();\r\n        }else if(controller === \"DealerCheck\"){\r\n            DealerCheck();\r\n        }else if(controller === \"PlayerBust\"){\r\n            playerBust();\r\n        }else if(controller === \"DealerBust\"){\r\n            dealerBust();\r\n        }else if(controller === \"PlayerWin\"){\r\n            playerWin();\r\n        }else if(controller === \"DealerWin\"){\r\n            dealerWin();\r\n        }else if(controller === \"PlayerBJ\"){\r\n            playerBJ();\r\n        }else if(controller === \"DealerBJ\"){\r\n            dealerBJ();\r\n        }else if(controller === \"WhoWin\"){\r\n            whoWin();\r\n        }\r\n    },[controller]);\r\n\r\n    const calculateHand = (hand) => {\r\n        let tmp = 0;\r\n        if(hand.length !== 0){\r\n            for(let i = 0; i < hand.length; i++){\r\n                if(hand[i][0] === 'A'){\r\n                    tmp += 11;\r\n                }else if(hand[i][0] === 'J' || hand[i][0] === 'Q' || hand[i][0] === 'K'){\r\n                    tmp += 10;\r\n                }else{\r\n                    tmp += hand[i][0];\r\n                }\r\n            }\r\n        }\r\n        return tmp;\r\n    }\r\n\r\n    useEffect(() => {\r\n        setDscore(calculateHand(Dhand));\r\n        setPscore(calculateHand(Phand));\r\n    },[Phand, Dhand, setDscore, setPscore]);\r\n\r\n    const betUP = () => {\r\n        if(betting <= money - 10) setBetting(betting + 10);\r\n    }\r\n\r\n    const betDW = () => {\r\n        if(betting >= 20) setBetting(betting - 10);\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div class=\"chooseBar\">\r\n                {phase === 0 || (phase > 4 && phase < 11)?\r\n                    <div class=\"betPhase\">\r\n                        <div class=\"betAdjust\" onClick={betUP}>↑</div>\r\n                        <div class=\"betAdjust\" onClick={betDW}>↓</div>\r\n                        <div class=\"betting\">{betting} G</div>\r\n                        <div class=\"button\" onClick={BET}>BET</div>\r\n                    </div>\r\n                    :\r\n                    phase === 1 ?\r\n                    (\r\n                    <div class=\"openedPhase\">\r\n                        <div class=\"button\" onClick={HIT}>HIT</div>\r\n                        <div class=\"button\" onClick={STAND}>STAND</div>\r\n                    </div>\r\n                    )\r\n                    :\r\n                    \"\"\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Choose;","D:\\Projects\\blackjack\\src\\components\\Table\\index.js",[],[],"D:\\Projects\\blackjack\\src\\components\\Inform\\index.js",[],[],"D:\\Projects\\blackjack\\src\\components\\Status\\index.js",[],[],"D:\\Projects\\blackjack\\src\\Atom.js",[],[],"D:\\Projects\\blackjack\\src\\BlackJack.js",[],[],[],{"ruleId":"46","severity":1,"message":"47","line":276,"column":7,"nodeType":"48","endLine":276,"endColumn":19,"suggestions":"49"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ActionPhase', 'DealerCheck', 'DealerOpen', 'DrawPhase', 'dealerBJ', 'dealerBust', 'dealerWin', 'playerBJ', 'playerBust', 'playerCheck', 'playerWin', and 'whoWin'. Either include them or remove the dependency array.","ArrayExpression",["50"],{"desc":"51","fix":"52"},"Update the dependencies array to be: [ActionPhase, DealerCheck, DealerOpen, DrawPhase, controller, dealerBJ, dealerBust, dealerWin, playerBJ, playerBust, playerCheck, playerWin, whoWin]",{"range":"53","text":"54"},[8728,8740],"[ActionPhase, DealerCheck, DealerOpen, DrawPhase, controller, dealerBJ, dealerBust, dealerWin, playerBJ, playerBust, playerCheck, playerWin, whoWin]"]