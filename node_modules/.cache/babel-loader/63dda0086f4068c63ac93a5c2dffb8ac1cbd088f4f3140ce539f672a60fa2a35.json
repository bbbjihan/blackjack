{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\blackjack\\\\src\\\\components\\\\Choose\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { selector, useRecoilState, useRecoilValue, useSetRecoilState } from \"recoil\";\nimport \"../../Atom\";\nimport { betState, DhandState, informState, moneyState, PhandState, phaseState } from \"../../Atom\";\nimport \"./Choose.css\";\n\n/**\r\n * NEW\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getScore = num => {\n  if (num === \"A\") {\n    return 11;\n  }\n  if ([\"J\", \"Q\", \"K\"].includes(num)) {\n    return 10;\n  }\n  return parseInt(num);\n};\n\n/**\r\n * NEW\r\n */\nexport const atomPlayerScore = selector({\n  key: `selector_player_score`,\n  get: _ref => {\n    let {\n      get\n    } = _ref;\n    const playerHand = get(PhandState);\n    const ret = playerHand.reduce((prev, cur) => prev + getScore(cur[0]), 0);\n    return ret;\n  }\n});\n\n/**\r\n * NEW\r\n */\nexport const atomDealerScore = selector({\n  key: `selector_Dealer_score`,\n  get: _ref2 => {\n    let {\n      get\n    } = _ref2;\n    const dealerHand = get(DhandState);\n    const ret = dealerHand.reduce((prev, cur) => prev + getScore(cur[0]), 0);\n    return ret;\n  }\n});\nconst ChooseCopy = () => {\n  _s();\n  const [money, setMoney] = useRecoilState(moneyState);\n  const setBet = useSetRecoilState(betState);\n  const [phase, setPhase] = useRecoilState(phaseState);\n  const setInform = useSetRecoilState(informState);\n  const [Dhand, setDhand] = useRecoilState(DhandState);\n  const [Phand, setPhand] = useRecoilState(PhandState);\n  const [betting, setBetting] = useState(10);\n  let deck = [];\n  /**\r\n   * NEW\r\n   */\n  const playerScore = useRecoilValue(atomPlayerScore);\n  const dealerScore = useRecoilValue(atomDealerScore);\n  //***** */\n\n  const actionPhase = async () => {\n    if (playerScore > 21) {\n      playerBurst();\n      setPhase(5);\n    } else if (playerScore === 21) {\n      setPhase(11);\n      setInform(\"PLAYER BLACK JACK.\");\n      await wait(1000);\n      dealerOpen();\n    } else {\n      setPhase(1);\n      setInform(\"액션을 선택해주세요.\");\n    }\n  };\n\n  /**\r\n   * PASS\r\n   */\n  const cardDraw = async owner => {\n    console.log(`Draw ${owner}`);\n    if (!deck.length) {\n      console.log(\"Not enough deck!\");\n      deck = await cardShuffle().then(await wait(1000));\n      cardDraw(owner);\n      return;\n    }\n    setPhase(3);\n    let draw = deck.shift();\n    if (owner === \"DEALER\") {\n      setDhand(prev => [...prev, draw]);\n    } else {\n      setPhand(prev => [...prev, draw]);\n    }\n    setInform(owner + \"'s draw, \" + draw[0] + \" \" + draw[1]);\n  };\n  const HIT = async () => {};\n  const STAND = async () => {\n    console.log(\"Pressed STAND\");\n    setPhase(4);\n    await dealerDrawWhileUnder17();\n    await wait(1000);\n  };\n\n  /**\r\n   * NEW\r\n   */\n  const dealerDrawWhileUnder17 = async () => {\n    await cardDraw(\"DEALER\");\n    await wait(1000);\n    setPhase(4);\n  };\n\n  /**\r\n   * For dealer's draw while dealer score is under 17 NEW\r\n   */\n  useEffect(() => {\n    console.log(phase, dealerScore);\n    if (phase !== 4) return;\n    if (dealerScore > 16) {\n      dealerOpen();\n      return;\n    }\n    dealerDrawWhileUnder17();\n  }, [phase, dealerScore]);\n  const dealerOpen = async () => {\n    setPhase(4);\n    await cardDraw(\"DEALER\");\n    await wait(1000);\n    while (dealerDrawFlag() === 0) {\n      await cardDraw(\"DEALER\");\n      await wait(1000);\n    }\n    if (dealerScore === 21) dealerBJ();else if (playerScore === 21) playerBJ();else if (dealerDrawFlag() === 1) dealerBurst();else whoWin();\n  };\n  const dealerDrawFlag = () => {\n    if (dealerScore < 17) {\n      return 0;\n    } else if (dealerScore > 21) {\n      return 1;\n    } else {\n      return 2;\n    }\n  };\n  const whoWin = () => {\n    let D = 21 - dealerScore;\n    let P = 21 - playerScore;\n    if (P < D) {\n      playerWin();\n    } else {\n      dealerWin();\n    }\n  };\n  const playerBurst = () => {\n    setInform(\"PLAYER BURST.\");\n    setPhase(5);\n  };\n  const dealerBurst = () => {\n    setInform(\"DEALER BURST.\");\n    setPhase(6);\n  };\n  const playerWin = () => {\n    setInform(\"PLAYER WIN.\");\n    setPhase(7);\n  };\n  const dealerWin = () => {\n    setInform(\"DEALER WIN.\");\n    setPhase(8);\n  };\n  const playerBJ = () => {\n    setInform(\"PLAYER BLACK JACK.\");\n    setPhase(9);\n  };\n  const dealerBJ = () => {\n    setInform(\"DEALER BLACK JACK.\");\n    setPhase(10);\n  };\n\n  /**\r\n   * 여기부터 #e3e\r\n   */\n\n  /**\r\n   * PASS\r\n   */\n  const BET = async () => {\n    setBet(betting);\n    setMoney(money - betting);\n    setBetting(10);\n    await cardDraw(\"PLAYER\");\n    await wait(1000);\n    await cardDraw(\"DEALER\");\n    await wait(1000);\n    await cardDraw(\"PLAYER\");\n    await wait(1000);\n    await actionPhase();\n  };\n\n  /**\r\n   * PASS\r\n   */\n  const betAdjustUP = () => {\n    if (betting <= money - 10) setBetting(prev => {\n      return prev + 10;\n    });\n  };\n\n  /**\r\n   * PASS\r\n   */\n  const betAdjustDW = () => {\n    if (betting >= 20) setBetting(prev => {\n      return prev - 10;\n    });\n  };\n\n  /**\r\n   * PASS\r\n   * @param {PAS} timeToDelay\r\n   * @returns\r\n   */\n  const wait = timeToDelay => new Promise(resolve => setTimeout(resolve, timeToDelay));\n\n  /**\r\n   * PASS\r\n   */\n  const cardShuffle = async () => {\n    setPhase(2);\n    setInform(\"Shuffling...\");\n    let shuffling = [[\"A\", \"spade\"], [2, \"spade\"], [3, \"spade\"], [4, \"spade\"], [5, \"spade\"], [6, \"spade\"], [7, \"spade\"], [8, \"spade\"], [9, \"spade\"], [10, \"spade\"], [\"J\", \"spade\"], [\"Q\", \"spade\"], [\"K\", \"spade\"], [\"A\", \"diamond\"], [2, \"diamond\"], [3, \"diamond\"], [4, \"diamond\"], [5, \"diamond\"], [6, \"diamond\"], [7, \"diamond\"], [8, \"diamond\"], [9, \"diamond\"], [10, \"diamond\"], [\"J\", \"diamond\"], [\"Q\", \"diamond\"], [\"K\", \"diamond\"], [\"A\", \"heart\"], [2, \"heart\"], [3, \"heart\"], [4, \"heart\"], [5, \"heart\"], [6, \"heart\"], [7, \"heart\"], [8, \"heart\"], [9, \"heart\"], [10, \"heart\"], [\"J\", \"heart\"], [\"Q\", \"heart\"], [\"K\", \"heart\"], [\"A\", \"clover\"], [2, \"clover\"], [3, \"clover\"], [4, \"clover\"], [5, \"clover\"], [6, \"clover\"], [7, \"clover\"], [8, \"clover\"], [9, \"clover\"], [10, \"clover\"], [\"J\", \"clover\"], [\"Q\", \"clover\"], [\"K\", \"clover\"]];\n    for (let i = shuffling.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [shuffling[i], shuffling[j]] = [shuffling[j], shuffling[i]];\n    }\n    return shuffling;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chooseBar\",\n      children: phase === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"betPhase\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"betAdjust\",\n          onClick: betAdjustUP,\n          children: \"\\u2191\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"betAdjust\",\n          onClick: betAdjustDW,\n          children: \"\\u2193\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"betting\",\n          children: [betting, \" G\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button\",\n          onClick: BET,\n          children: \"BET\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this) : phase === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"openedPhase\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button\",\n          onClick: HIT,\n          children: \"HIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button\",\n          onClick: STAND,\n          children: \"STAND\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this) : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 5\n  }, this);\n};\n_s(ChooseCopy, \"TE9nEycGdt5NrN9nrrsICm8A4mo=\", false, function () {\n  return [useRecoilState, useSetRecoilState, useRecoilState, useSetRecoilState, useRecoilState, useRecoilState, useRecoilValue, useRecoilValue];\n});\n_c = ChooseCopy;\nexport default ChooseCopy;\nvar _c;\n$RefreshReg$(_c, \"ChooseCopy\");","map":{"version":3,"names":["useEffect","useState","selector","useRecoilState","useRecoilValue","useSetRecoilState","betState","DhandState","informState","moneyState","PhandState","phaseState","jsxDEV","_jsxDEV","getScore","num","includes","parseInt","atomPlayerScore","key","get","_ref","playerHand","ret","reduce","prev","cur","atomDealerScore","_ref2","dealerHand","ChooseCopy","_s","money","setMoney","setBet","phase","setPhase","setInform","Dhand","setDhand","Phand","setPhand","betting","setBetting","deck","playerScore","dealerScore","actionPhase","playerBurst","wait","dealerOpen","cardDraw","owner","console","log","length","cardShuffle","then","draw","shift","HIT","STAND","dealerDrawWhileUnder17","dealerDrawFlag","dealerBJ","playerBJ","dealerBurst","whoWin","D","P","playerWin","dealerWin","BET","betAdjustUP","betAdjustDW","timeToDelay","Promise","resolve","setTimeout","shuffling","i","j","Math","floor","random","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Projects/blackjack/src/components/Choose/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport {\r\n  selector,\r\n  useRecoilState,\r\n  useRecoilValue,\r\n  useSetRecoilState,\r\n} from \"recoil\";\r\nimport \"../../Atom\";\r\nimport {\r\n  betState,\r\n  DhandState,\r\n  informState,\r\n  moneyState,\r\n  PhandState,\r\n  phaseState,\r\n} from \"../../Atom\";\r\nimport \"./Choose.css\";\r\n\r\n/**\r\n * NEW\r\n */\r\nconst getScore = (num) => {\r\n  if (num === \"A\") {\r\n    return 11;\r\n  }\r\n  if ([\"J\", \"Q\", \"K\"].includes(num)) {\r\n    return 10;\r\n  }\r\n  return parseInt(num);\r\n};\r\n\r\n/**\r\n * NEW\r\n */\r\nexport const atomPlayerScore = selector({\r\n  key: `selector_player_score`,\r\n  get: ({ get }) => {\r\n    const playerHand = get(PhandState);\r\n\r\n    const ret = playerHand.reduce((prev, cur) => prev + getScore(cur[0]), 0);\r\n    return ret;\r\n  },\r\n});\r\n\r\n/**\r\n * NEW\r\n */\r\nexport const atomDealerScore = selector({\r\n  key: `selector_Dealer_score`,\r\n  get: ({ get }) => {\r\n    const dealerHand = get(DhandState);\r\n\r\n    const ret = dealerHand.reduce((prev, cur) => prev + getScore(cur[0]), 0);\r\n    return ret;\r\n  },\r\n});\r\n\r\nconst ChooseCopy = () => {\r\n  const [money, setMoney] = useRecoilState(moneyState);\r\n  const setBet = useSetRecoilState(betState);\r\n  const [phase, setPhase] = useRecoilState(phaseState);\r\n  const setInform = useSetRecoilState(informState);\r\n  const [Dhand, setDhand] = useRecoilState(DhandState);\r\n  const [Phand, setPhand] = useRecoilState(PhandState);\r\n  const [betting, setBetting] = useState(10);\r\n  let deck = [];\r\n  /**\r\n   * NEW\r\n   */\r\n  const playerScore = useRecoilValue(atomPlayerScore);\r\n  const dealerScore = useRecoilValue(atomDealerScore);\r\n  //***** */\r\n\r\n  const actionPhase = async () => {\r\n    if (playerScore > 21) {\r\n      playerBurst();\r\n      setPhase(5);\r\n    } else if (playerScore === 21) {\r\n      setPhase(11);\r\n      setInform(\"PLAYER BLACK JACK.\");\r\n      await wait(1000);\r\n      dealerOpen();\r\n    } else {\r\n      setPhase(1);\r\n      setInform(\"액션을 선택해주세요.\");\r\n    }\r\n  };\r\n\r\n  /**\r\n   * PASS\r\n   */\r\n  const cardDraw = async (owner) => {\r\n    console.log(`Draw ${owner}`);\r\n    if (!deck.length) {\r\n      console.log(\"Not enough deck!\");\r\n      deck = await cardShuffle().then(await wait(1000));\r\n      cardDraw(owner);\r\n      return;\r\n    }\r\n    setPhase(3);\r\n    let draw = deck.shift();\r\n    if (owner === \"DEALER\") {\r\n      setDhand((prev) => [...prev, draw]);\r\n    } else {\r\n      setPhand((prev) => [...prev, draw]);\r\n    }\r\n    setInform(owner + \"'s draw, \" + draw[0] + \" \" + draw[1]);\r\n  };\r\n  const HIT = async () => {};\r\n\r\n  const STAND = async () => {\r\n    console.log(\"Pressed STAND\");\r\n    setPhase(4);\r\n    await dealerDrawWhileUnder17();\r\n    await wait(1000);\r\n  };\r\n\r\n  /**\r\n   * NEW\r\n   */\r\n  const dealerDrawWhileUnder17 = async () => {\r\n    await cardDraw(\"DEALER\");\r\n    await wait(1000);\r\n    setPhase(4);\r\n  };\r\n\r\n  /**\r\n   * For dealer's draw while dealer score is under 17 NEW\r\n   */\r\n  useEffect(() => {\r\n    console.log(phase, dealerScore);\r\n    if (phase !== 4) return;\r\n    if (dealerScore > 16) {\r\n      dealerOpen();\r\n      return;\r\n    }\r\n    dealerDrawWhileUnder17();\r\n  }, [phase, dealerScore]);\r\n\r\n  const dealerOpen = async () => {\r\n    setPhase(4);\r\n\r\n    await cardDraw(\"DEALER\");\r\n    await wait(1000);\r\n    while (dealerDrawFlag() === 0) {\r\n      await cardDraw(\"DEALER\");\r\n      await wait(1000);\r\n    }\r\n    if (dealerScore === 21) dealerBJ();\r\n    else if (playerScore === 21) playerBJ();\r\n    else if (dealerDrawFlag() === 1) dealerBurst();\r\n    else whoWin();\r\n  };\r\n\r\n  const dealerDrawFlag = () => {\r\n    if (dealerScore < 17) {\r\n      return 0;\r\n    } else if (dealerScore > 21) {\r\n      return 1;\r\n    } else {\r\n      return 2;\r\n    }\r\n  };\r\n\r\n  const whoWin = () => {\r\n    let D = 21 - dealerScore;\r\n    let P = 21 - playerScore;\r\n    if (P < D) {\r\n      playerWin();\r\n    } else {\r\n      dealerWin();\r\n    }\r\n  };\r\n\r\n  const playerBurst = () => {\r\n    setInform(\"PLAYER BURST.\");\r\n    setPhase(5);\r\n  };\r\n\r\n  const dealerBurst = () => {\r\n    setInform(\"DEALER BURST.\");\r\n    setPhase(6);\r\n  };\r\n\r\n  const playerWin = () => {\r\n    setInform(\"PLAYER WIN.\");\r\n    setPhase(7);\r\n  };\r\n\r\n  const dealerWin = () => {\r\n    setInform(\"DEALER WIN.\");\r\n    setPhase(8);\r\n  };\r\n\r\n  const playerBJ = () => {\r\n    setInform(\"PLAYER BLACK JACK.\");\r\n    setPhase(9);\r\n  };\r\n\r\n  const dealerBJ = () => {\r\n    setInform(\"DEALER BLACK JACK.\");\r\n    setPhase(10);\r\n  };\r\n\r\n  /**\r\n   * 여기부터 #e3e\r\n   */\r\n\r\n  /**\r\n   * PASS\r\n   */\r\n  const BET = async () => {\r\n    setBet(betting);\r\n    setMoney(money - betting);\r\n    setBetting(10);\r\n\r\n    await cardDraw(\"PLAYER\");\r\n    await wait(1000);\r\n\r\n    await cardDraw(\"DEALER\");\r\n    await wait(1000);\r\n\r\n    await cardDraw(\"PLAYER\");\r\n    await wait(1000);\r\n    await actionPhase();\r\n  };\r\n\r\n  /**\r\n   * PASS\r\n   */\r\n  const betAdjustUP = () => {\r\n    if (betting <= money - 10)\r\n      setBetting((prev) => {\r\n        return prev + 10;\r\n      });\r\n  };\r\n\r\n  /**\r\n   * PASS\r\n   */\r\n  const betAdjustDW = () => {\r\n    if (betting >= 20)\r\n      setBetting((prev) => {\r\n        return prev - 10;\r\n      });\r\n  };\r\n\r\n  /**\r\n   * PASS\r\n   * @param {PAS} timeToDelay\r\n   * @returns\r\n   */\r\n  const wait = (timeToDelay) =>\r\n    new Promise((resolve) => setTimeout(resolve, timeToDelay));\r\n\r\n  /**\r\n   * PASS\r\n   */\r\n  const cardShuffle = async () => {\r\n    setPhase(2);\r\n    setInform(\"Shuffling...\");\r\n    let shuffling = [\r\n      [\"A\", \"spade\"],\r\n      [2, \"spade\"],\r\n      [3, \"spade\"],\r\n      [4, \"spade\"],\r\n      [5, \"spade\"],\r\n      [6, \"spade\"],\r\n      [7, \"spade\"],\r\n      [8, \"spade\"],\r\n      [9, \"spade\"],\r\n      [10, \"spade\"],\r\n      [\"J\", \"spade\"],\r\n      [\"Q\", \"spade\"],\r\n      [\"K\", \"spade\"],\r\n      [\"A\", \"diamond\"],\r\n      [2, \"diamond\"],\r\n      [3, \"diamond\"],\r\n      [4, \"diamond\"],\r\n      [5, \"diamond\"],\r\n      [6, \"diamond\"],\r\n      [7, \"diamond\"],\r\n      [8, \"diamond\"],\r\n      [9, \"diamond\"],\r\n      [10, \"diamond\"],\r\n      [\"J\", \"diamond\"],\r\n      [\"Q\", \"diamond\"],\r\n      [\"K\", \"diamond\"],\r\n      [\"A\", \"heart\"],\r\n      [2, \"heart\"],\r\n      [3, \"heart\"],\r\n      [4, \"heart\"],\r\n      [5, \"heart\"],\r\n      [6, \"heart\"],\r\n      [7, \"heart\"],\r\n      [8, \"heart\"],\r\n      [9, \"heart\"],\r\n      [10, \"heart\"],\r\n      [\"J\", \"heart\"],\r\n      [\"Q\", \"heart\"],\r\n      [\"K\", \"heart\"],\r\n      [\"A\", \"clover\"],\r\n      [2, \"clover\"],\r\n      [3, \"clover\"],\r\n      [4, \"clover\"],\r\n      [5, \"clover\"],\r\n      [6, \"clover\"],\r\n      [7, \"clover\"],\r\n      [8, \"clover\"],\r\n      [9, \"clover\"],\r\n      [10, \"clover\"],\r\n      [\"J\", \"clover\"],\r\n      [\"Q\", \"clover\"],\r\n      [\"K\", \"clover\"],\r\n    ];\r\n    for (let i = shuffling.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      [shuffling[i], shuffling[j]] = [shuffling[j], shuffling[i]];\r\n    }\r\n    return shuffling;\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"chooseBar\">\r\n        {phase === 0 ? (\r\n          <div className=\"betPhase\">\r\n            <div className=\"betAdjust\" onClick={betAdjustUP}>\r\n              ↑\r\n            </div>\r\n            <div className=\"betAdjust\" onClick={betAdjustDW}>\r\n              ↓\r\n            </div>\r\n            <div className=\"betting\">{betting} G</div>\r\n            <div className=\"button\" onClick={BET}>\r\n              BET\r\n            </div>\r\n          </div>\r\n        ) : phase === 1 ? (\r\n          <div className=\"openedPhase\">\r\n            <div className=\"button\" onClick={HIT}>\r\n              HIT\r\n            </div>\r\n            <div className=\"button\" onClick={STAND}>\r\n              STAND\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChooseCopy;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}